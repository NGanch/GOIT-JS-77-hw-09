{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,SAGaC,SAASC,cAAc,QAC/BC,iBAAiB,UAQtB,SAAkBC,GAChBA,EAAIC,iBACJ,IAAIC,EAAYC,EAAWC,cAC3B,MAAMC,EAAOC,EAAUF,cACjBG,EAASC,EAAYJ,cAE7B,IAAI,IAAIK,EAAW,EAAGA,GAAYF,EAAQE,GAAY,EAEpDC,EAAcD,EAAUP,GACvBS,MAAK,EAACC,SAAEA,EAAQC,MAAEA,MACbC,EAAAnB,GAASoB,OAAOC,QACd,uBAAqBJ,QAAiBC,MAAU,IAGvDI,OAAM,EAACL,SAAEA,EAAQC,MAAEA,MACdC,EAAAnB,GAASoB,OAAOG,QACd,sBAAoBN,QAAiBC,MAAU,IAGvDX,GAAaG,C,IAxBf,MAAMF,EAAaN,SAASC,cAAc,kBACpCQ,EAAYT,SAASC,cAAc,iBACnCU,EAAcX,SAASC,cAAc,mBA0B3C,SAASY,EAAcE,EAAUC,GAE/B,OAAO,IAAIM,SAAQ,CAACC,EAASC,KAC7B,MAAMC,EAAgBC,KAAKC,SAAY,GACrCC,YAAW,KACTH,EACFF,EAAQ,C,SAAER,E,MAAUC,IAEtBQ,EAAO,C,SAAET,E,MAAUC,GAAQ,GAEtBA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport Notiflix from 'notiflix';\n\n\nconst form = document.querySelector('form');\nform.addEventListener('submit', onSubmit);\n\n\nconst inputDelay = document.querySelector('[name=\"delay\"]');\nconst inputStep = document.querySelector('[name=\"step\"]');\nconst inputAmount = document.querySelector('[name=\"amount\"]');\n\n\nfunction onSubmit(evt){\n  evt.preventDefault();\n  let formDelay = inputDelay.valueAsNumber;\n  const step = inputStep.valueAsNumber;\n  const amount = inputAmount.valueAsNumber;\n\nfor(let position = 1; position <= amount; position += 1) {\n \n  createPromise(position, formDelay)\n  .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n  .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n  formDelay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n  const shouldResolve = Math.random()  > 0.3;\n    setTimeout(() => {\n  if (shouldResolve) {\n    resolve({ position, delay });\n  } else {\n  reject({ position, delay });\n  }\n    }, delay);\n    });\n  }\n\n// Закоментований перший спосіб вирішення задачі. \n// Перегляньте будь ласка чи є він правильний.\n// Дякую.\n\n  // function onSubmit(evt){\n  //   evt.preventDefault();\n  //   let formDelay = inputDelay.valueAsNumber;\n  //   const step = inputStep.valueAsNumber;\n  //   const amount = inputAmount.valueAsNumber;\n  \n  // for(let position = 1; position <= amount; position += 1) {\n   \n  //       createPromise(position, formDelay)\n  //       .then(onMakeSuccess)\n  //       .catch(onMakeError);\n  //       function onMakeSuccess(result){\n  //         console.log(result)\n  //        }\n  //        function onMakeError(result){\n  //          console.log(result)\n  //        }\n  //       formDelay += step;\n  //   }\n  // }\n  \n  // function createPromise(position, delay) {\n  \n  //   return new Promise((resolve, reject) => {\n  //   const shouldResolve = Math.random()  > 0.3;\n  //     setTimeout(() => {\n  //   if (shouldResolve) {\n  //     Notiflix.Notify.success(`✅ Fulfilled\n  //      promise ${position} in ${delay}ms`);\n\n  //   } else {\n  //     Notiflix.Notify.failure(`❌ Rejected \n  //   promise ${position} in ${delay}ms`);\n\n  //   }\n  //     }, delay);\n  //     });\n  //   }\n\n\n\n"],"names":["$7Y9D8","parcelRequire","document","querySelector","addEventListener","evt","preventDefault","formDelay","$47d4ff9957288465$var$inputDelay","valueAsNumber","step","$47d4ff9957288465$var$inputStep","amount","$47d4ff9957288465$var$inputAmount","position1","$47d4ff9957288465$var$createPromise","then","position","delay","$parcel$interopDefault","Notify","success","catch","failure","Promise","resolve","reject","shouldResolve","Math","random","setTimeout"],"version":3,"file":"03-promises.e5b9dd58.js.map"}